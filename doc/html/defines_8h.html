<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: defines.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">defines.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Contiene la definizioni di variabili e funzioni specifiche del progetto.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;signal.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;syscall.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;sys/wait.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;dirent.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &quot;<a class="el" href="debug_8h_source.html">debug.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for defines.h:</div>
<div class="dyncontent">
<div class="center"><img src="defines_8h__incl.png" border="0" usemap="#defines_8h" alt=""/></div>
<map name="defines_8h" id="defines_8h">
<area shape="rect" title="Contiene la definizioni di variabili e funzioni specifiche del progetto." alt="" coords="585,5,666,32"/>
<area shape="rect" title=" " alt="" coords="58,155,124,181"/>
<area shape="rect" title=" " alt="" coords="25,80,96,107"/>
<area shape="rect" title=" " alt="" coords="188,155,258,181"/>
<area shape="rect" title=" " alt="" coords="220,80,293,107"/>
<area shape="rect" title=" " alt="" coords="318,80,392,107"/>
<area shape="rect" title=" " alt="" coords="417,80,496,107"/>
<area shape="rect" title=" " alt="" coords="520,80,616,107"/>
<area shape="rect" title=" " alt="" coords="640,80,728,107"/>
<area shape="rect" title=" " alt="" coords="752,80,838,107"/>
<area shape="rect" title=" " alt="" coords="862,80,925,107"/>
<area shape="rect" title=" " alt="" coords="950,80,1022,107"/>
<area shape="rect" title=" " alt="" coords="1046,80,1114,107"/>
<area shape="rect" title=" " alt="" coords="1139,80,1222,107"/>
<area shape="rect" href="debug_8h.html" title="Contiene la definizioni di variabili e funzioni per il debugging." alt="" coords="120,80,195,107"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="defines_8h__dep__incl.png" border="0" usemap="#defines_8hdep" alt=""/></div>
<map name="defines_8hdep" id="defines_8hdep">
<area shape="rect" title="Contiene la definizioni di variabili e funzioni specifiche del progetto." alt="" coords="169,5,251,32"/>
<area shape="rect" href="message__queue_8h_source.html" title=" " alt="" coords="5,80,145,107"/>
<area shape="rect" href="defines_8c.html" title="Contiene l&#39;implementazione delle funzioni specifiche del progetto." alt="" coords="170,80,250,107"/>
<area shape="rect" href="fifo_8c.html" title="Contiene l&#39;implementazione delle funzioni specifiche per la gestione delle FIFO." alt="" coords="275,80,329,107"/>
</map>
</div>
</div>
<p><a href="defines_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structFile__piece.html">File_piece</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structResponce.html">Responce</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structDivide.html">Divide</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structMsgQue.html">MsgQue</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a2114414f4315c5408565e9aff3598927"><td class="memItemLeft" align="right" valign="top"><a id="a2114414f4315c5408565e9aff3598927"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MSG_BYTES</b>&#160;&#160;&#160;1024</td></tr>
<tr class="separator:a2114414f4315c5408565e9aff3598927"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae78bf7e06bbba1c42b740fef55cf20f8"><td class="memItemLeft" align="right" valign="top"><a id="ae78bf7e06bbba1c42b740fef55cf20f8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PATH_SIZE</b>&#160;&#160;&#160;150</td></tr>
<tr class="separator:ae78bf7e06bbba1c42b740fef55cf20f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a092da15ea28a6ba5670aea87cfa30490"><td class="memItemLeft" align="right" valign="top"><a id="a092da15ea28a6ba5670aea87cfa30490"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SHMKEY1</b>&#160;&#160;&#160;20</td></tr>
<tr class="separator:a092da15ea28a6ba5670aea87cfa30490"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa286cf8f5ca4dc66be6442a1f93e0374"><td class="memItemLeft" align="right" valign="top"><a id="aa286cf8f5ca4dc66be6442a1f93e0374"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SHMKEY_SUPP_MUTEX</b>&#160;&#160;&#160;21</td></tr>
<tr class="separator:aa286cf8f5ca4dc66be6442a1f93e0374"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8591e8be90ebf144412f89f7bc1433b8"><td class="memItemLeft" align="right" valign="top"><a id="a8591e8be90ebf144412f89f7bc1433b8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SHM_SUPP</b>&#160;&#160;&#160;40</td></tr>
<tr class="separator:a8591e8be90ebf144412f89f7bc1433b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4828a6c9d75577356073715a743256bf"><td class="memItemLeft" align="right" valign="top"><a id="a4828a6c9d75577356073715a743256bf"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SEMKEY1</b>&#160;&#160;&#160;11</td></tr>
<tr class="separator:a4828a6c9d75577356073715a743256bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad01ee6a45cd5001f3a38692359ee7635"><td class="memItemLeft" align="right" valign="top"><a id="ad01ee6a45cd5001f3a38692359ee7635"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SEMIPCKEY</b>&#160;&#160;&#160;14</td></tr>
<tr class="separator:ad01ee6a45cd5001f3a38692359ee7635"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a378acba81c42b343bea233c9c3cf0157"><td class="memItemLeft" align="right" valign="top"><a id="a378acba81c42b343bea233c9c3cf0157"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SEMKEY2</b>&#160;&#160;&#160;32</td></tr>
<tr class="separator:a378acba81c42b343bea233c9c3cf0157"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2512be334e0aa846c1670cfed07dda8"><td class="memItemLeft" align="right" valign="top"><a id="af2512be334e0aa846c1670cfed07dda8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SEMMUTEXKEY1</b>&#160;&#160;&#160;12</td></tr>
<tr class="separator:af2512be334e0aa846c1670cfed07dda8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a5a1fa3d5abfc0cdc93714b4f8bac18"><td class="memItemLeft" align="right" valign="top"><a id="a3a5a1fa3d5abfc0cdc93714b4f8bac18"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MSGQKEY</b>&#160;&#160;&#160;30</td></tr>
<tr class="separator:a3a5a1fa3d5abfc0cdc93714b4f8bac18"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af09e6a06bc25d1bda57fba8af4e839dc"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structDivide.html">Divide</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="defines_8h.html#af09e6a06bc25d1bda57fba8af4e839dc">divideByFour</a> (char *path)</td></tr>
<tr class="memdesc:af09e6a06bc25d1bda57fba8af4e839dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">It opens the file, reads it, and divides it into four parts.  <a href="defines_8h.html#af09e6a06bc25d1bda57fba8af4e839dc">More...</a><br /></td></tr>
<tr class="separator:af09e6a06bc25d1bda57fba8af4e839dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abef901756983399c0aa2b8b7f08c9adc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="defines_8h.html#abef901756983399c0aa2b8b7f08c9adc">readDir</a> (const char *dirname, char **legit_files_path)</td></tr>
<tr class="separator:abef901756983399c0aa2b8b7f08c9adc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac1c6661b935c9856940e8bfdb3d8384"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="defines_8h.html#aac1c6661b935c9856940e8bfdb3d8384">FileReconstruct</a> (struct <a class="el" href="structResponce.html">Responce</a> *source, struct <a class="el" href="structResponce.html">Responce</a> **dest, int *count, int n_file)</td></tr>
<tr class="separator:aac1c6661b935c9856940e8bfdb3d8384"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f23546ccf6ae726cbe47319648c073a"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="defines_8h.html#a8f23546ccf6ae726cbe47319648c073a">getDirectoryPath</a> ()</td></tr>
<tr class="separator:a8f23546ccf6ae726cbe47319648c073a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ce7c4d064c3b1a3f182c3e830a4c31d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="defines_8h.html#a2ce7c4d064c3b1a3f182c3e830a4c31d">print_msg</a> (char *msg)</td></tr>
<tr class="separator:a2ce7c4d064c3b1a3f182c3e830a4c31d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Contiene la definizioni di variabili e funzioni specifiche del progetto. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="af09e6a06bc25d1bda57fba8af4e839dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af09e6a06bc25d1bda57fba8af4e839dc">&#9670;&nbsp;</a></span>divideByFour()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structDivide.html">Divide</a> divideByFour </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It opens the file, reads it, and divides it into four parts. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dirname</td><td>the name of the file to be divided</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A struct containing 4 strings. </dd></dl>

</div>
</div>
<a id="aac1c6661b935c9856940e8bfdb3d8384"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac1c6661b935c9856940e8bfdb3d8384">&#9670;&nbsp;</a></span>FileReconstruct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FileReconstruct </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structResponce.html">Responce</a> *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structResponce.html">Responce</a> **&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n_file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>It takes a struct <a class="el" href="structResponce.html">Responce</a> as input, and it checks if the filepath of the struct is already present in the array of structs. If it is, it adds the content of the struct to the array. If it isn't, it adds the struct to the array</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>the struct that contains the data to be added to the array </td></tr>
    <tr><td class="paramname">dest</td><td>is the array of structs that I want to fill </td></tr>
    <tr><td class="paramname">count</td><td>number of files </td></tr>
    <tr><td class="paramname">n_file</td><td>number of files in the array</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if the file is reconstructed correctly, 0 otherwise. </dd></dl>

</div>
</div>
<a id="a8f23546ccf6ae726cbe47319648c073a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f23546ccf6ae726cbe47319648c073a">&#9670;&nbsp;</a></span>getDirectoryPath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* getDirectoryPath </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>funzione da usare in caso per le chiavi con la ftok (non la stiamo usando) It gets the current working directory, appends the string "myDir" to it, and returns the result</p>
<dl class="section return"><dt>Returns</dt><dd>The path to the directory. </dd></dl>

</div>
</div>
<a id="a2ce7c4d064c3b1a3f182c3e830a4c31d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ce7c4d064c3b1a3f182c3e830a4c31d">&#9670;&nbsp;</a></span>print_msg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print_msg </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The function <code>print_msg</code> writes the string <code>msg</code> to the standard output</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The message to be printed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="abef901756983399c0aa2b8b7f08c9adc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abef901756983399c0aa2b8b7f08c9adc">&#9670;&nbsp;</a></span>readDir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int readDir </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dirname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>legit_files_path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>It recursively reads a directory and its subdirectories, and returns the number of files that are smaller than 4kb and that start with "sendme_". The problem is that the function returns the correct number of files, but the array of strings that I pass to it is not filled correctly. essendo la funzione ricorsiva, legit files va fuori per non essere re inizializzato ad ogni chiamata Here's the code that calls the function:</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dirname</td><td>the path to the directory to be read </td></tr>
    <tr><td class="paramname">legit_files_path</td><td>an array of strings, each string is a path to a file</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of files found. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
